/*! staddle - v3.2.0 - 2014-02-16 */
SITENAME={common:{init:function(){$("html").removeClass("no-js"),overlay.init()}},examples:{init:function(){map.init(),$(".staddle-flickr").staddleflickr({userid:"90478545@N02",imagecount:8,html:'<a href="{{link}}"title="{{title}}"><img src="{{thumb}}" title="{{title}}" alt="{{image}}"/></a>'})}}},UTIL={exec:function(a){var b=SITENAME;""!==a&&b[a]&&"function"==typeof b[a].init&&b[a].init()},init:function(){var a=document.body,b=a.getAttribute("data-controller");UTIL.exec("common"),UTIL.exec(b)}},$(document).ready(UTIL.init),!function(a){var b=function(a){var b=function(a,b){this.options=b,this.element=a,this.getFeed()};b.prototype={getFeed:function(){var b=this,c=b.options,d=[];a.getJSON("http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?",{id:c.userid,format:"json"}).done(function(e){var f=e.items.length;a.each(e.items,function(a,e){var g={image:e.media.m.replace(/_m/i,"_c"),thumb:e.media.m.replace(/_m/i,"_q"),title:e.title,author:e.author,date:e.date_taken,description:e.description,link:e.link,published:e.published};return d.push(b.template(c.html,g)),a===c.imagecount-1||a===f-1?(b.element.append(d.join("")),!1):void 0})}).fail(function(a,b,c){var d=b+", "+c;console.log("Staddle Flickr Request Failed: "+d)})},template:function(a,b){for(var c in b)a=a.replace(new RegExp("{{"+c+"}}","g"),b[c]);return a}},a.fn.staddleflickr=function(c){return c=a.extend({},a.fn.staddleflickr.defaults,c),this.each(function(){new b(a(this),c)})},a.fn.staddleflickr.defaults={userid:"90478545@N02",imagecount:8,html:'<a href="{{link}}" title="{{title}}"><img src="{{thumb}}" title="{{title}}" alt="{{image}}"/></a>'}};"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this);var map=function(){function a(){b()}function b(){var a=document.createElement("script");a.type="text/javascript",a.src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=map.draw",document.body.appendChild(a)}function c(){var a=document.getElementById("map-canvas");if(null!==a){var b=new google.maps.LatLng(16.77532,-3.008265),c=new google.maps.Map(a,{center:b,zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControl:!0}),d=new google.maps.InfoWindow({content:"<p>Timbuktu</p>"}),e=new google.maps.Marker({position:b,map:c,title:"Timbuktu"});google.maps.event.addListener(e,"click",function(){d.open(c,e)})}}return{init:a,draw:c}}(),overlay=function(){function a(){b()}function b(){$(".toggle-overlay").on("click",function(){var a=$($(this).attr("href"));return $(a).toggleClass("overlay-open"),!1}),$(".close-overlay").on("click",function(){return $(".overlay").removeClass("overlay-open"),!1})}return{init:a}}();